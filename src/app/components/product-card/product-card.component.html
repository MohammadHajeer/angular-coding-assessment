<div
  #productCard
  (mouseenter)="onHover()"
  (mouseleave)="onLeave()"
  class="p-4 rounded-lg shadow-sm bg-white relative overflow-hidden"
>
  <span class="bg-gray-100 p-3 text-xs rounded-r-axl absolute right-0 top-0">{{
    product.category
  }}</span>
  <div
    class="w-full h-40 relative z-10 bg-banner bg-cover bg-no-repeat bg-center"
  >
    <img
      [src]="product.image"
      alt="product"
      class="object-contain h-full w-1/2 mx-auto"
    />
  </div>
  <p class="text-2xl text-center">{{ product.price | currency }}</p>
  <div class="bg-primary h-2 rounded-full mt-2 w-1/2 mx-auto"></div>
  <h2 class="text-lg mt-2 text-primary font-bold line-clamp-1 leading-tight">
    {{ product.title }}
  </h2>
  <p class="text-gray-500 line-clamp-2 mt-2 leading-relaxed">
    {{ product.description }}
  </p>
  <div class="flex justify-between items-center gap-4">
    <p class="text-primary">
      {{ product.rating.rate }} <span class="text-gray-500">rate</span>
    </p>
    <p class="text-primary">
      {{ product.rating.count }} <span class="text-gray-500">users</span>
    </p>
  </div>
  <button
    (click)="toggleProductDetails(true)"
    class="rounded-lg border-2 border-primary px-3 py-2 mt-3 w-full hover:bg-primary hover:text-white transition-all"
  >
    Read More !
  </button>

  @if(productDetailsVisible) {
  <div
    #productDetails
    class="absolute z-20 inset-0 bg-white p-4 overflow-y-auto"
  >
    <div class="flex items-center justify-between">
      <span class="bg-primary h-1 rounded-l-full flex-1"></span>
      <button
        (click)="toggleProductDetails(false)"
        class="border-2 border-primary p-1 rounded-xl hover:bg-primary group transition-all"
      >
        <img
          src="/icons/x-icon.svg"
          alt="close icon"
          class="size-6 group-hover:invert"
        />
      </button>
    </div>
    <h2 class="text-lg mt-2 text-primary font-bold leading-tight">
      {{ product.title }}
    </h2>
    <p class="text-gray-500 leading-relaxed mt-2">
      {{ product.description }}
    </p>
  </div>
  }
</div>
